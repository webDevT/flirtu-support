<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Знакомства в Telegram</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.24.0/dist/algoliasearch-lite.umd.js"
    integrity="sha256-b2n6oSgG4C1stMT/yc/ChGszs9EY/Mhs6oltEjQbFCQ=" crossorigin="anonymous"></script>
<!--    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.73.3/dist/instantsearch.production.min.js"-->
<!--            integrity="sha256-c10z4sC06kjfoYbw7kBfYpe/CxFqjql/Jqv9yAMexsk=" crossorigin="anonymous"></script>-->
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js"></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-query-suggestions"></script>

<script>
const {autocomplete, getAlgoliaResults} = window['@algolia/autocomplete-js'];
const {createQuerySuggestionsPlugin} = window['@algolia/autocomplete-plugin-query-suggestions'];
const searchClient = algoliasearch('T1E6JG8I3R', 'e00f97132821ce1128501a8aa542ec1d');
</script>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-theme-classic"
/>
    <link rel="stylesheet" href="css/style.min.css">
</head>

<body data-new-gr-c-s-check-loaded="14.1155.0" data-gr-ext-installed="">

  
    <!-- ---------------start content------------ -->
    <div class="content support-content">       
        <!-- ---------start header------------->
 	<!-- start header -->
     <header class="header">
		<img src="img/logo.svg" alt="">
		<div class="header__text">
			Flirtu Support
		</div>
	</header>
	<!-- end header -->



        <div class="container">

            <!-- <div class="info-field">
                <img src="img/exclamation.svg" alt="">
                Account blocked
            </div> -->


              <div id="autocomplete"></div>


        

            <ul class="links-wrapper">
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816963327516--VIP-tanti-vantaggi">👑 VIP - tanti vantaggi!!</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816646401308-Cos-%C3%A8-un-Profilo-Utente">Cos'è un 👤Profilo Utente?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815786222364--STORIES-di-cosa-si-tratta">🔞STORIES - di cosa si tratta?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815464005148-Sezione-INIZIA">Sezione ✳️ INIZIA ✳️</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815386025500--Impostazioni-di-ricerca-per-la-sezione-INIZIA">🔍Impostazioni di ricerca per la sezione ✳️ INIZIA ✳️</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16814759438364-Che-cos-%C3%A8-Amore24Bot">Che cos'è @Amore24Bot?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816983176092-Apgrad-dei-Mi-piace">Apgrad dei 💚 Mi piace</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816624596892-Parametri-del-Profilo">Parametri del 👤Profilo</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815846323740-Come-posso-commentare-le-storie-degli-altri-utenti">Come posso commentare le storie degli altri utenti?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815488416796-Ho-messo-invece-di-come-posso-cambiare-la-mia-decisione">Ho messo ❌ invece di 💚, come posso cambiare la mia decisione?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815397478044-Filtri-di-ricerca-per-la-sezione-STORIES">Filtri di ricerca per la sezione 🔞STORIES</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16814814541596-Chi-pu%C3%B2-utilizzare-Amore24Bot">Chi può utilizzare @Amore24Bot?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16817108662556--Boost">🚀Boost</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816701961628-Come-dovrebbe-essere-Il-mio-profilo">Come dovrebbe essere 👤Il mio profilo?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815835235484-Dove-posso-pubblicare-le-mie-storie-eliminarle-o-vedere-i-commenti">Dove posso pubblicare le mie storie, eliminarle o vedere i commenti?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815632972188-Sezione-A-chi-piaci">Sezione 💗 A chi piaci</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16814864565276-Come-scaricare-l-app-Amore24">Come scaricare l'app Amore24?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16817114646812--Regali">🎁 Regali</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816709663772-Come-migliorare-il-mio-Profilo-e-renderlo-pi%C3%B9-popolare">Come migliorare il mio 👤Profilo e renderlo più popolare?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815853884444-Quante-storie-posso-pubblicare">Quante storie posso pubblicare?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815670241308--Match-cos-%C3%A8">💘 Match - cos'è?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16814935586460-Quale-versione-dell-app-Telegram-%C3%A8-consigliata">Quale versione dell'app Telegram è consigliata?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16817155460124--Monete">💰 Monete</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816681809692-Come-cambiare-il-mio-nome">Come cambiare il mio nome?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815892587932-Come-posso-rispondere-ai-commenti-sulle-mie-storie">Come posso rispondere ai commenti sulle mie storie?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815691159324-Come-posso-annullare-o-eliminare-un-Match">Come posso annullare o eliminare un 💘 Match?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815059024028-Come-gestire-il-bot-Amore24">Come gestire il bot Amore24?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16817049633692-Modalit%C3%A0-di-pagamento">Modalità di pagamento</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16816698682268-Come-cambiare-la-foto-principale-del-profilo">Come cambiare la foto principale del 👤 profilo?</a></li>
                <li><a href="https://amore24it.zendesk.com/hc/en-us/articles/16815925814940-Quali-storie-non-posso-pubblicare">Quali storie non posso pubblicare?</a></li>

                <li>
                        
                <div class="" id="delete-button">
                    <a href="">
                        Delete your paragraph text
                    </a>
                </div>

                <!-- <div class="button">
                    <a href="">
                        Why I am banded
                    </a>
                </div> -->
          
                </li>
              </ul>

            <div class="button support-button">
                <div>
                    <img src="img/support-icon.svg" alt="">
                   <div class="support-button__counter">
                    4
                </div>
                </div>
            </div>
        </div>   
    </div>

    <!-- ---------------start instruction content------------ -->
    <div class="content instruction-content">
        <div class="container">
            <p>Enter code to confirm deletion</p>
            <input type="text" class="code-input">

            <div class="captcha-container">
                <p>Please move the slider to the right to confirm that you are not a robot::</p>
                <div class="slider-container">
                    <div class="slider-track" id="slider-track"></div>
                    <div class="slider-thumb" id="slider-thumb">
                    </div>
                </div>
                <p class="slider-instructions">Move the slider to the right</p>
            </div>

            <div class="buttons-wrapper">
                <div class="button button-back">
                    <a href="">
                        Back
                    </a>
                </div>
                <div class="button button-confirm button-confirm--disabled">
                    <a href="">
                        Confirm
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- ---------------end instruction content------------ -->

    <!-- start modal window -->
    <div class="modal-window">
        <div class="modal-window__content">
            <img src="img/success.svg" alt="">
            <p>Your paragraph text has been successfully deleted</p>
            <div class="button">
                <a href="">
                    Ok
                </a>
            </div>
        </div>
    </div>
    <!-- end modal window -->

    <!-- start modal window error-->
    <!-- <div class="modal-window modal-window--error">
        <div class="modal-window__content">
            <img src="img/error.svg" alt="">
            <p>Incorrect verification code</p>
            <div class="button">
                <a href="">
                    Ok
                </a>
            </div>
        </div>
    </div> -->
    <!-- end modal window error-->

<!-- start text modal -->
<div class="text-modal">
    <div class="text-modal__content">
        <div class="close-button">
            <img src="img/close.svg" alt="">
        </div>
        
        <div class="text-modal__title">
            Some Title 
        </div>
        <div class="text-modal__text">

            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nisi, nam rerum omnis itaque vero expedita impedit adipisci obcaecati dolores repudiandae sint, neque non, nostrum repellat! Natus possimus quisquam quibusdam distinctio voluptates at laboriosam, ea, incidunt animi voluptas explicabo adipisci ex voluptatibus repellendus vero.
            </p>

            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nisi, nam rerum omnis itaque vero expedita impedit adipisci obcaecati dolores repudiandae.
            </p>

            <p>
                Nisi, nam rerum omnis itaque vero expedita impedit adipisci obcaecati dolores repudiandae.
            </p>

            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nisi, nam rerum omnis itaque vero expedita impedit adipisci obcaecati dolores repudiandae sint, neque non, nostrum repellat! Natus possimus quisquam quibusdam distinctio voluptates at laboriosam, ea, incidunt animi voluptas explicabo adipisci ex voluptatibus repellendus vero.
            </p>

            <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nisi, nam rerum omnis itaque vero expedita impedit adipisci obcaecati dolores repudiandae.
            </p>

            <p>
                Nisi, nam rerum omnis itaque vero expedita impedit adipisci obcaecati dolores repudiandae.
            </p>

            
        </div>
    </div>
</div>
<!-- end text modal -->

<script id="ze-snippet" src="https://static.zdassets.com/ekr/snippet.js?key=a3760307-635b-4774-9cf9-11ec359dc140"> </script>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
    let unread_counter_timer = null;

    async function update_unread_counter(count) {
        data = new FormData();
        data.append('action', 'unread_counter');
        data.append('counter', count);
        await fetch('/customer-support/?tgWebAppStartParam=207655919-692dae97d661bda0548e0d409f4fabe4', {
            method: 'POST',
            body: data
        })
    }

    zE("messenger", "loginUser", function (callback) {
        callback("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImFwcF82NjdmNGQ1ZmE0NzQ1ZjA5MDNiZGE1MWMifQ.eyJzY29wZSI6InVzZXIiLCJleHRlcm5hbF9pZCI6IjIwNzY1NTkxOSIsIm5hbWUiOiJBTEVYIn0.pMoey4FCdtS2qCxKHnw5azQuBuFJhujZfWnN5TAlRWM")
    });

    zE("messenger:on", "unreadMessages", async function (count) {
        if (unread_counter_timer) {
            clearTimeout(unread_counter_timer)
        }
        if (count) {
            document.getElementById('unread-counter').style = '';
            document.getElementById('unread-counter').textContent = count;
        } else {
            document.getElementById('unread-counter').style = 'display: none;';
        }
        unread_counter_timer = setTimeout(update_unread_counter.bind(null, count), 500)

    })

    async function delete_profile(event) {
        if (!isCaptchaPassed) return;
        event = event || window.event;

        event.preventDefault();
        // let verification_code = document.getElementById('verification_code').value;

        // if (!verification_code) {
        //     data = new FormData();
        //     data.append('action', 'delete');
        //     await fetch('/customer-support/?tgWebAppStartParam=207655919-692dae97d661bda0548e0d409f4fabe4', {
        //         method: 'POST',
        //         body: data
        //     })
        //         .then(async response => {
        //                 switch (response.status) {
        //                     case 405:
        //                         alert('bot is blocked, unblock to get the code');
        //                         break;
        //                     case 200:
        //                         alert('full code and submit');
        //                         break;
        //                 }
        //             }
        //         )
        // } else {
        data = new FormData();
        data.append('action', 'delete');
        // data.append('code', verification_code);
        await fetch('/customer-support/?tgWebAppStartParam=207655919-692dae97d661bda0548e0d409f4fabe4', {
            method: 'POST',
            body: data
        })
            .then(async response => {
                switch (response.status) {
                    // case 405:
                    //     alert('wrong code');
                    //     break;
                    case 200:
                        success_modal('hopa hopa');
                        break;
                }
            })
        // }
    }

</script>
<script>
    window.Telegram.WebApp.ready();
</script>
<script>
    function success_modal(text) {
        document.querySelector('.modal-window p').innerHTML = text;
        document.querySelector('.modal-window').style.display = 'block';
    }
    function close_modal(reload) {
        if (reload) {
            location.href = '/customer-support/?tgWebAppStartParam=207655919-692dae97d661bda0548e0d409f4fabe4';
            return;
        }
        document.querySelector('.modal-window').style.display = 'none';
    }
    document.getElementById('delete-button').addEventListener('click', function(event) {
        event.preventDefault();

        var supportContent = document.querySelector('.support-content');
        if (supportContent) {
            supportContent.style.display = 'none';
        }

        var instructionContent = document.querySelector('.instruction-content');
        if (instructionContent) {
            instructionContent.style.display = 'block';
        }
    });

    document.querySelector('.instruction-content .button-back').addEventListener('click', function(event) {
        location.href = '/customer-support/?tgWebAppStartParam=207655919-692dae97d661bda0548e0d409f4fabe4';
    });
</script>


<script>
    const confirmButton = document.querySelector('.button-confirm');
    const sliderThumb = document.getElementById('slider-thumb');
    const sliderTrack = document.getElementById('slider-track');
    const sliderContainer = document.querySelector('.slider-container');
    const sliderInstructions = document.querySelector('.slider-instructions');
    let isCaptchaPassed = false;
    let isDragging = false;
    let startX = 0;
    let currentX = 0;
    document.addEventListener('DOMContentLoaded', () => {
        // const codeInput = document.querySelector('.code-input');

        console.log('loaded')
        // console.log(codeInput)

        const checkFormValidity = () => {
            //codeInput.value.trim() !== "" &&
            if (isCaptchaPassed) {
                confirmButton.classList.remove('button-confirm--disabled');
                document.getElementById('slider-thumb-tick').style.display = '';
            } else {
                confirmButton.classList.add('button-confirm--disabled');
            }
        };

        // codeInput.addEventListener('input', checkFormValidity);
        // console.log(codeInput)

        const onDragStart = (e) => {
            isDragging = true;
            startX = (e.type.includes('touch')) ? e.touches[0].clientX - sliderThumb.offsetLeft : e.clientX - sliderThumb.offsetLeft;
            document.body.style.userSelect = 'none';
        };

        function isPointerInside(event, elem) {
            const rect = elem.getBoundingClientRect();
            const x = event.type.includes('touch') ? event.touches[0].clientX : event.clientX;
            const y = event.type.includes('touch') ? event.touches[0].clientY : event.clientY;

            return (
                x >= rect.left &&
                x <= rect.right &&
                y >= rect.top &&
                y <= rect.bottom
            );
        }

        const onDragMove = (e) => {
            if (!isDragging) return;
            // console.log(isPointerInside(e, sliderTrack))
            // if (!isPointerInside(e, sliderTrack)) {
            //     isDragging = false;
            //     sliderThumb.style.left = `0px`;
            // }
            currentX = (e.type.includes('touch')) ? e.touches[0].clientX - startX : e.clientX - startX;
            if (currentX < 0) {
                currentX = 0;
            } else if (currentX > sliderContainer.offsetWidth - sliderThumb.offsetWidth) {
                currentX = sliderContainer.offsetWidth - sliderThumb.offsetWidth;
            }
            sliderThumb.style.left = `${currentX}px`;
        };

        const onDragEnd = () => {
            if (!isDragging) return;
            isDragging = false;
            document.body.style.userSelect = 'auto';

            if (currentX >= sliderContainer.offsetWidth - sliderThumb.offsetWidth) {
                sliderInstructions.textContent = 'Verification passed!';
                sliderInstructions.style.color = '#328B53';
                sliderThumb.style.backgroundColor = '#328B53';
                sliderThumb.style.borderColor = '#328B53';
                sliderTrack.style.backgroundColor = '#49c778';
                sliderThumb.style.pointerEvents = 'none';
                isCaptchaPassed = true;
                checkFormValidity();
            } else {
                sliderThumb.style.left = '0';
                isCaptchaPassed = false;
            }
        };

        sliderThumb.addEventListener('mousedown', onDragStart);
        sliderThumb.addEventListener('touchstart', onDragStart);

        document.addEventListener('mousemove', onDragMove);
        document.addEventListener('touchmove', onDragMove);

        document.addEventListener('mouseup', onDragEnd);
        document.addEventListener('touchend', onDragEnd);
    });
</script>

<script>


    function debouncePromise(time) {
        let timerId = undefined;

        return function debounced(items) {
            if (timerId) {
                clearTimeout(timerId);
            }

            return new Promise((resolve) => {
                console.log(timerId)
                timerId = setTimeout(() => resolve(items), time);
            });
        };
    }

    const debounced = debouncePromise(1000);

    // const search = instantsearch({
    //     indexName: 'Flirtu Index',
    //     searchClient,
    // });

    const querySuggestionsPlugin = createQuerySuggestionsPlugin({
        searchClient,
        indexName: 'Flirtu Index_query_suggestions',
        getSearchParams() {
            return {
                hitsPerPage: 10,
            };
        },

    });

    qq=autocomplete({
        container: '#autocomplete',
        placeholder: 'Search for Flirtu guidelines',
        detachedMediaQuery: '', // Ensures the overlay is always detached
openOnFocus: true, // Opens the autocomplete on focus
        getSources({query}) {
            if (!query.trim()) {
                // Prevent sending a request if the query is empty or only spaces
                return [];
            }
            return debounced(
                [
                    {
                        sourceId: 'foo',
                        // getItemInputValue: ({item}) => {
                        //     return `foo`
                        // },
                        getItems({query}) {

                            return getAlgoliaResults({
                                searchClient,
                                queries: [
                                    {
                                        indexName: 'Flirtu Index',
                                        query,
                                        params: {
                                            hitsPerPage: 4,
                                            attributesToSnippet: [
                                                'body_safe:10',
                                                'title'
                                            ],
                                            filters: 'section.id:19909491154077'
                                        },
                                    },
                                ],
                            });
                        },
                        getItemUrl({item}) {
                            return `https://flirtusia.zendesk.com/hc/en-us/articles/${item.id}`;
                        },
                        templates: {
                            noResults({html}) {
                                return html`No results. contact foo
                                <button onClick="${() => {
                                    alert(1)
                                }}">ads
                                </button>`;
                            },
                            header() {
                                return 'Suggestions👇';
                            },
                            item({item, components, html}) {
                                //return html`<span>${item.title}</span>`
                                return html`
                                    <div class="aa-Item-content">
                                        <div class="aa-Item__header">
                                        <span class="aa-Item__icon">
                                        👉
                                        </span>
                                        <span>
                                            <div class="aa-Item-content"
                                               href="${`https://flirtusia.zendesk.com/hc/en-us/articles/${item.id}`}">${components.Highlight({
                                                hit: item,
                                                attribute: 'title',
                                                tagName: 'b',
                                            })}</div>
                                        </span>
                                        </div>
                                        ${components.Snippet({
                                            hit: item,
                                            attribute: 'body_safe',
                                        })}

                                    </div>`;
                                return components.ReverseHighlight({hit: item.title, attribute: 'query'});
                            },
                        },
                        onSelect: function (q,w,e) {
                            console.log(q,w,e )
                            // searchInput.value = item.name; // Example: Fill the input with the selected item's name
      // qq.update({ query: item.name, sources: state.sources }); // Refresh autocomplete with the current results

      // Keep the overlay open
      q.setIsOpen(true);
                            // event.preventDefault();
                            // event.stopImmediatePropagation();
                            openModal();
                            // Handle the selected item
                            // event.setQuery('mes');
                            // event.setIsOpen(true);
                            // event.setQuery(event.item.title);
                        }
                    },
                ]
            );
        },
    });
</script>
<script>
let modal, closeButton;
function openModal() {
        modal.style.display = 'flex';
    }

document.addEventListener('DOMContentLoaded', function () {
    modal = document.querySelector('.text-modal');
    closeButton = modal.querySelector('.close-button');



    function closeModal(event) {
        qq.setIsOpen(true)
        modal.style.display = 'none';
    }

    // document.addEventListener('click', function (event) {
    //     if (event.target.classList.contains('aa-Item-content')) {
    //         openModal();
    //     }
    // });

    closeButton.addEventListener('click', closeModal);

    // window.addEventListener('click', function (event) {
    //     if (event.target === modal) {
    //         closeModal();
    //     }
    // });
});


</script>
</body>
</html>
