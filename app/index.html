<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Знакомства в Telegram</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.24.0/dist/algoliasearch-lite.umd.js"
    integrity="sha256-b2n6oSgG4C1stMT/yc/ChGszs9EY/Mhs6oltEjQbFCQ=" crossorigin="anonymous"></script>
<!--    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.73.3/dist/instantsearch.production.min.js"-->
<!--            integrity="sha256-c10z4sC06kjfoYbw7kBfYpe/CxFqjql/Jqv9yAMexsk=" crossorigin="anonymous"></script>-->
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js"></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-query-suggestions"></script>

<script>
const {autocomplete, getAlgoliaResults} = window['@algolia/autocomplete-js'];
const {createQuerySuggestionsPlugin} = window['@algolia/autocomplete-plugin-query-suggestions'];
const searchClient = algoliasearch('T1E6JG8I3R', 'e00f97132821ce1128501a8aa542ec1d');
</script>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-theme-classic"
/>
    <link rel="stylesheet" href="css/style.min.css">
</head>

<body data-new-gr-c-s-check-loaded="14.1155.0" data-gr-ext-installed="">

  
    <!-- ---------------start content------------ -->
    <div class="content support-content">       
        <!-- ---------start header------------->
 	<!-- start header -->
     <header class="header">
		<img src="img/logo.svg" alt="">
		<div class="header__text">
			Flirtu Support
		</div>
	</header>
	<!-- end header -->



        <div class="container">

            <div class="info-field">
                <img src="img/exclamation.svg" alt="">
                Account blocked
            </div>


              <div id="autocomplete"></div>


            <div class="buttons-wrapper">
                <div class="button" id="delete-button">
                    <a href="">
                        Delete your paragraph text
                    </a>
                </div>

                <div class="button">
                    <a href="">
                        Why I am banded
                    </a>
                </div>
            </div>

            <div class="button support-button" id="draggableButton">
                <div>
                    <img src="img/support-icon.svg" alt="">
                   <div class="support-button__counter">
                    4
                </div>
                </div>
            </div>
        </div>   
    </div>

    <!-- ---------------start instruction content------------ -->
    <div class="content instruction-content">
        <div class="container">
            <p>Enter code to confirm deletion</p>
            <input type="text" class="code-input">

            <div class="captcha-container">
                <p>Please move the slider to the right to confirm that you are not a robot::</p>
                <div class="slider-container">
                    <div class="slider-track" id="slider-track"></div>
                    <div class="slider-thumb" id="slider-thumb">
                    </div>
                </div>
                <p class="slider-instructions">Move the slider to the right</p>
            </div>

            <div class="buttons-wrapper">
                <div class="button button-back">
                    <a href="">
                        Back
                    </a>
                </div>
                <div class="button button-confirm button-confirm--disabled">
                    <a href="">
                        Confirm
                    </a>
                </div>
            </div>
        </div>
    </div>
    <!-- ---------------end instruction content------------ -->

    <!-- start modal window -->
    <div class="modal-window">
        <div class="modal-window__content">
            <img src="img/success.svg" alt="">
            <p>Your paragraph text has been successfully deleted</p>
            <div class="button">
                <a href="">
                    Ok
                </a>
            </div>
        </div>
    </div>
    <!-- end modal window -->

    <!-- start modal window error-->
    <!-- <div class="modal-window modal-window--error">
        <div class="modal-window__content">
            <img src="img/error.svg" alt="">
            <p>Incorrect verification code</p>
            <div class="button">
                <a href="">
                    Ok
                </a>
            </div>
        </div>
    </div> -->
    <!-- end modal window error-->

<!-- start text modal -->
<div class="text-modal">
    <div class="text-modal__content">
        <div class="close-button">
            <img src="img/close.svg" alt="">
        </div>
        
        <div class="text-modal__title">
            Some Title 
        </div>
        <div class="text-modal__text">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nisi, nam rerum omnis itaque vero expedita impedit adipisci obcaecati dolores repudiandae sint, neque non, nostrum repellat! Natus possimus quisquam quibusdam distinctio voluptates at laboriosam, ea, incidunt animi voluptas explicabo adipisci ex voluptatibus repellendus vero. Deleniti, amet similique! Laboriosam dolorem ducimus veniam alias? Ipsam quo velit temporibus officiis laboriosam. Doloremque at voluptas a, vero doloribus harum esse similique, animi debitis odio laudantium ratione molestiae veritatis exercitationem accusantium explicabo fugit! Temporibus magni, molestiae voluptas iusto dolores eius totam ab? Laborum dolorum voluptatibus doloremque voluptatum ad, vero nisi nobis, consectetur sapiente reiciendis ut esse?
        </div>
    </div>
</div>
<!-- end text modal -->

    <script>
        document.getElementById('delete-button').addEventListener('click', function(event) {
            event.preventDefault();
            
            var supportContent = document.querySelector('.support-content');
            if (supportContent) {
                supportContent.remove();
            }

            var instructionContent = document.querySelector('.instruction-content');
            if (instructionContent) {
                instructionContent.style.display = 'block';
            }
        });
    </script>

    <script>
        document.querySelector('.button-confirm a').addEventListener('click', function(event) {
            event.preventDefault();
            document.querySelector('.modal-window').style.display = 'block';
            document.querySelector('.modal-overlay').style.display = 'block';
        });

        document.querySelector('.close-modal a').addEventListener('click', function(event) {
            event.preventDefault();
            document.querySelector('.modal-window').style.display = 'none';
            document.querySelector('.modal-overlay').style.display = 'none';
        });

        document.querySelector('.modal-overlay').addEventListener('click', function() {
            document.querySelector('.modal-window').style.display = 'none';
            document.querySelector('.modal-overlay').style.display = 'none';
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const codeInput = document.querySelector('.code-input');
            const confirmButton = document.querySelector('.button-confirm');
            const sliderThumb = document.getElementById('slider-thumb');
            const sliderTrack = document.getElementById('slider-track');
            const sliderContainer = document.querySelector('.slider-container');
            const sliderInstructions = document.querySelector('.slider-instructions');
            let isCaptchaPassed = false;
            let isDragging = false;
            let startX = 0;
            let currentX = 0;

            const checkFormValidity = () => {
                if (codeInput.value.trim() !== "" && isCaptchaPassed) {
                    confirmButton.classList.remove('button-confirm--disabled');
                } else {
                    confirmButton.classList.add('button-confirm--disabled');
                }
            };

            codeInput.addEventListener('input', checkFormValidity);

            const onDragStart = (e) => {
                isDragging = true;
                startX = (e.type.includes('touch')) ? e.touches[0].clientX - sliderThumb.offsetLeft : e.clientX - sliderThumb.offsetLeft;
                document.body.style.userSelect = 'none';
            };

            const onDragMove = (e) => {
                if (!isDragging) return;
                currentX = (e.type.includes('touch')) ? e.touches[0].clientX - startX : e.clientX - startX;
                if (currentX < 0) {
                    currentX = 0;
                } else if (currentX > sliderContainer.offsetWidth - sliderThumb.offsetWidth) {
                    currentX = sliderContainer.offsetWidth - sliderThumb.offsetWidth;
                }
                sliderThumb.style.left = `${currentX}px`;
            };

            const onDragEnd = () => {
                if (!isDragging) return;
                isDragging = false;
                document.body.style.userSelect = 'auto';

                if (currentX >= sliderContainer.offsetWidth - sliderThumb.offsetWidth) {
                    sliderInstructions.textContent = 'Verification passed!';
                    sliderInstructions.style.color = '#328B53';
                    sliderThumb.style.backgroundColor = '#328B53';
                    sliderThumb.style.borderColor = '#328B53';
                    sliderTrack.style.backgroundColor = '#49c778';
                    sliderThumb.style.pointerEvents = 'none';
                    isCaptchaPassed = true;
                    checkFormValidity();
                } else {
                    sliderThumb.style.left = '0';
                    isCaptchaPassed = false;
                }
            };

            sliderThumb.addEventListener('mousedown', onDragStart);
            sliderThumb.addEventListener('touchstart', onDragStart);

            document.addEventListener('mousemove', onDragMove);
            document.addEventListener('touchmove', onDragMove);

            document.addEventListener('mouseup', onDragEnd);
            document.addEventListener('touchend', onDragEnd);
        });
    </script>


   


    <script>
        

        function debouncePromise(time) {
            let timerId = undefined;
    
            return function debounced(items) {
                if (timerId) {
                    clearTimeout(timerId);
                }
    
                return new Promise((resolve) => {
                    console.log(timerId)
                    timerId = setTimeout(() => resolve(items), time);
                });
            };
        }
    
        const debounced = debouncePromise(1000);
    
        // const search = instantsearch({
        //     indexName: 'Flirtu Index',
        //     searchClient,
        // });
    
        const querySuggestionsPlugin = createQuerySuggestionsPlugin({
            searchClient,
            indexName: 'Flirtu Index_query_suggestions',
            getSearchParams() {
                return {
                    hitsPerPage: 10,
                };
            },
    
        });
    
        autocomplete({
            container: '#autocomplete',
            placeholder: 'Search for Flirtu guidelines',
            getSources() {
                return debounced(
                    [
                        {
                            sourceId: 'foo',
                            getItemInputValue: ({item}) => {
                                return `foo`
                            },
                            getItems({query}) {
                                return getAlgoliaResults({
                                    searchClient,
                                    queries: [
                                        {
                                            indexName: 'Flirtu Index',
                                            query,
                                            params: {
                                                hitsPerPage: 4,
                                                attributesToSnippet: [
                                                    'body_safe:10',
                                                    'title'
                                                ],
                                                filters: 'section.id:19909491154077'
                                            },
                                        },
                                    ],
                                });
                            },
                            getItemUrl({item}) {
                                return `https://flirtusia.zendesk.com/hc/en-us/articles/${item.id}`;
                            },
                            templates: {
                                noResults({html}) {
                                    return html`No results. contact foo
                                    <button onClick="${() => {
                                        alert(1)
                                    }}">ads
                                    </button>`;
                                },
                                header() {
                                    return 'Suggestions👇';
                                },
                                item({item, components, html}) {
                                    //return html`<span>${item.title}</span>`
                                    return html`
                                        <div>
                                            <div class="aa-Item__header">
                                            <span class="aa-Item__icon">
                                            👉
                                            </span>
                                            <span>
                                                <div class="aa-Item-title"
                                                   href="${`https://flirtusia.zendesk.com/hc/en-us/articles/${item.id}`}">${components.Highlight({
                                                    hit: item,
                                                    attribute: 'title',
                                                    tagName: 'b',
                                                })}</div>
                                            </span>
                                            </div>
                                            ${components.Snippet({
                                                hit: item,
                                                attribute: 'body_safe',
                                            })}
    
                                        </div>`;
                                    return components.ReverseHighlight({hit: item.title, attribute: 'query'});
                                },
                            },
                            onSelect: function (event) {
                                event.setQuery(null);
                                // event.setQuery(event.item.title);
                            }
                        },
                    ]
                );
            },
        });
    
        // autocomplete({
        //     container: '#autocomplete',
        //     placeholder: 'Search for ...',
        //     plugins: [querySuggestionsPlugin],
        //     autoFocus: true,
        //     getSources() {
        //         return [
        //             {
        //                 sourceId: 'articles',
        //                 getItems({query}) {
        //                     return getAlgoliaResults({
        //                         searchClient,
        //                         queries: [
        //                             {
        //                                 indexName: 'Flirtu Index',
        //                                 query,
        //                             },
        //                         ],
        //                     });
        //                 },
        //                 getItemUrl({item}) {
        //                     return item.url;
        //                 },
        //                 templates: {
        //                     item({item}) {
        //                         return item.title;
        //                     },
        //                 },
        //             },
        //         ];
        //     },
        //     // getSources() {
        //     //     return [];
        //     // },
        // });
    </script>

   
<script>
document.addEventListener('DOMContentLoaded', function() {
    const modal = document.querySelector('.text-modal');
    const closeButton = modal.querySelector('.close-button');
    function openModal() {
        modal.style.display = 'flex';
    }
    function closeModal() {
        modal.style.display = 'none';
    }
    document.addEventListener('click', function(event) {
        if (event.target.classList.contains('aa-Item-title')) {
            openModal();
        }
    });

    closeButton.addEventListener('click', closeModal);

    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            closeModal();
        }
    });
});


</script>
</body>
</html>
